@import "../../../../../../bower-asset/bootstrap/scss/bootstrap.scss";
$gray: $gray-500;
$red-bright: lighten(saturate($red, 20%), 15%);
$cream: lighten(desaturate(#F1F2E2, 25%), 6%);

@import "./scss/_samp.scss";
@import "./scss/_scalars.scss";
@import "./scss/_entity.scss";
@import "./scss/_badge.scss";
@import "./scss/_list.scss";
@import "./scss/_stack.scss";
@import "./scss/_signature.scss";
@import "./scss/_source.scss";


html {
    height: 100%;

    body {
        padding: 0;
        margin: 0;
        height: 100%;
        max-height: 100%;
        background: $cream;
        display: flex;
        flex-direction: column;

        @media screen and (min-width: 961px) {
            overflow: hidden;
        }
        @media screen and (max-width: 960px) {
            max-height: none;
            height: auto;
        }

        > .container-fluid {
            padding: 0;
            flex: 1 1 100%;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;

            @media screen and (min-width: 961px) {
                max-height: 100vh;
            }

            header.stats {
                > div.stats {
                    line-height: 1;
                }
            }
        }
    }

    &.dump {
        header.stats {
            margin-bottom: 2rem;
        }
    }

    header.title {
        color: white;
        padding: 0.5rem 0.9rem;

        background: linear-gradient(to bottom, rgba(darken($blue, 15%), 0.85), rgba(darken($blue, 15%), 0.95));
        border-bottom: 2px solid desaturate(darken($blue, 20%), 20%);


        h1 {
            margin: 0;
            font-weight: 200;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            font-size: 1.75em;
            line-height: 1;

            span.version {
                font-size: 0.5em;
                text-transform: none;
            }
        }
    }


    div.cols {
        flex: 1 1 100%;
        padding-bottom: 0;
        display: flex;
        align-items: stretch;
        box-sizing: border-box;
        display: flex;


        @media screen and (max-width: 960px) {
            flex-direction: column;
        }

        > div {
            box-sizing: border-box;
            display: flex;
            box-sizing: border-box;
            position: relative;
            display: flex;
            flex: 1 1 45%;

            @media screen and (min-width: 961px) {
                min-height: 20rem;
            }


            div.frame {
                width: 100%;

                @media screen and (min-width: 961px) {
                    position: absolute;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    left: 0;
                    height: 100%;
                    overflow-y: auto;
                    overflow-x: hidden;
                }
            }


            &.left {
                flex-direction: column;

                @media screen and (min-width: 961px) {
                    h3 {
                        border-right: 1px solid #888;
                    }

                    samp.dump.exception {
                        border-right: 1px solid #DDD;
                    }

                    section.stack {
                        border-right: 1px solid #CCC;
                    }
                }
            }

            &.right {
                @media screen and (max-width: 960px) {
                    min-height: 30vh;
                }
            }
        }
    }

    section {
        h3 {
            margin: 0;
            font-weight: 100;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            font-size: 0.9em;
            line-height: 1;
            background: linear-gradient(to bottom, rgba(#888, 0.7), rgba(#777, 0.7));
            color: white;
            padding: 0.35rem 1rem;
            position: relative;
        }

        samp.dump {
            margin: 0;
            flex: 1 1 auto;
            font-size: 0.8em;
            padding: 1.25rem 2rem;
        }


        &.exception {
            background: darken($cream, 5%);

            samp.dump.exception {
                min-width: 0;
                border-radius: 2px;
                padding: 1rem;

                div.message {
                    margin-bottom: 1rem;
                    border-left: 3px solid $red;
                    padding-left: 1rem;
                    background: white;

                    &:last-child {
                        margin-bottom: 0;
                    }

                    div.line {
                        font-size: 2em;
                        border: none;
                    }

                    div.string.m {
                        &:before, &:after {
                            content: '!!!';
                        }
                    }
                }

                .attr {
                    color: $pink;
                    font-weight: 600;

                    .label {
                        color: $gray;
                        font-weight: normal;

                        &:after {
                            content: ':';
                        }
                    }
                }
            }
        }

        &.stack {
            flex: 1 1 100%;
            display: flex;
            flex-direction: column;
            background: linear-gradient(to bottom, darken($cream, 12%) 0, darken($cream, 7%) 12rem);

            > div {
                position: relative;
                flex: 1 1 100%;


            }
        }


        &.dump {
            samp.dump {
                overflow-x: auto;

                &:last-child {
                    margin-bottom: 0;
                    flex: 1 1 100%;
                }
            }
        }
    }

    &.dark {
        body {
            background: rgba(#333, 0.95);
        }
    }
}

html.exception {
    header.title {
        background: linear-gradient(to bottom, rgba(darken($red, 5%), 0.85), rgba(darken($red, 5%), 0.95));
        border-bottom: 2px solid desaturate(darken($red, 10%), 20%);
    }
}


html.dark {
    &.exception {
        header.title {
            border-bottom: 2px solid desaturate(darken($red, 20%), 20%);
        }
    }

    div.cols > div {
        &.left {
            @media screen and (min-width: 961px) {
                h3 {
                    border-right: 1px solid rgba(#444, 0.7);
                }

                samp.dump.exception {
                    border-right: 1px solid rgba(#333, 0.7);
                }

                section.stack {
                    border-right: 1px solid rgba(#333, 0.7);
                }
            }
        }
    }

    section {
        h3 {
            background: linear-gradient(to bottom, rgba(#888, 0.4), rgba(#777, 0.4));
        }

        &.exception {
            background: rgba(#333, 0.6);

            samp.dump.exception div.message {
                background: none;
            }

            samp.dump.exception {
                .attr {
                    color: lighten($pink, 10%);

                    .label {
                        color: rgba($gray-300, 0.7);
                    }
                }
            }
        }

        &.stack {
            background: linear-gradient(to bottom, rgba(white, 0.1) 0, rgba(white, 0) 12rem, rgba(black, 0.1));
        }
    }
}
